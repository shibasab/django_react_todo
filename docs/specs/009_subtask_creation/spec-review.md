# Design Review: サブタスク作成機能

## Review Scope

- 対象: `docs/specs/009_subtask_creation/spec.md`
- 実施日: 2026-02-19
- レビュー観点: UX心理学（認知負荷 / 視覚的階層 / フレーミング / 損失回避）
- 参照スキル: `ux-psychology`

## Findings

### Critical

- 該当なし

### Major

1. 親タスク完了操作時のフィードバック要件が不足
   - 背景: FR-008 で「全サブタスク完了時のみ完了可能」と定義されていたが、拒否時のユーザー向け説明要件が明文化されていない。
   - 心理学観点: フレーミング効果 / 誘導抵抗。
   - 改善提案: 完了操作拒否時に理由（未完了サブタスクがある）を明示する要件を追加する。
   - 実施可否: **実施**（FR-010として `spec.md` に反映）。

2. 受け入れシナリオに「完了操作拒否」が不足
   - 背景: 主要ユースケースの検証観点として、制約違反時の挙動がテスト可能な形で定義されていない。
   - 心理学観点: 認知負荷（期待と結果の不一致を減らす）。
   - 改善提案: Given/When/Then に完了操作拒否シナリオを追加する。
   - 実施可否: **実施**（Scenario 6を追加）。

### Minor

1. 進捗表示の可読性要件が曖昧
   - 背景: FR-005 は表示形式を定義しているが、誤読防止の観点が弱い。
   - 心理学観点: 視覚的階層 / 選択的注意。
   - 改善提案: 分数と%の併記を維持し、視認性をNFRとして補強する。
   - 実施可否: **実施**（NFR-003を追加）。

2. 件数増加時の視認性リスクの記載不足
   - 背景: サブタスクが多数の際に情報が埋もれるリスクがある。
   - 心理学観点: 認知負荷。
   - 改善提案: Edge Case に大量件数時の視認性維持を追加する。
   - 実施可否: **実施**（Edge Casesへ追加）。

## 改善提案の反映結果

- 反映した提案
  - Scenario 6（完了操作拒否）を追加
  - FR-010（拒否理由の明示）を追加
  - NFR-003（進捗表示の視認性）を追加
  - Edge Cases に「件数増加時の視認性」を追加
- 見送り提案
  - なし

## 検証計画

- 指標
  - 親タスク完了操作の失敗理由理解率（ユーザビリティテストでの正答率）
  - 進捗表示読取時間（分数と%の認識時間）
  - 誤操作率（未完了サブタスクあり状態での再試行回数）
- 手法
  - シナリオベースのユーザビリティテスト
  - 受け入れテスト（Given/When/Then）に基づく手動確認

## 未決事項

- エラーメッセージ文言の最終トーン（丁寧語/簡潔語）はUI文言ガイドライン策定時に確定する。
