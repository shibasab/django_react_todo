# タスク作成・編集時のエラー表示機能

- Title: タスク作成・編集時のエラー表示機能
- Status: Idea
- Created: 2026-01-15
- Last updated: 2026-01-15

## Goal
タスク作成・編集時のバリデーションエラーを適切に表示し、ユーザーが取るべきアクションを明確にする。

## User story
- ユーザーとして、タスク名が空のまま保存しようとしたとき、何が問題なのか理解したい
- ユーザーとして、既存のタスク名と重複する名前を入力したとき、即座にフィードバックを受け取りたい
- ユーザーとして、入力エラーがある場合でも、入力内容が消えずに修正できるようにしたい

## Non-goals
- サーバー側のエラーログ仕様の策定
- 国際化（i18n）対応
- タスク作成・編集以外のエラー表示（一覧表示、削除など）

## Acceptance criteria
- タスク名が空の場合、フィールド直下にエラーメッセージが表示される
- タスク名が重複している場合、フィールド直下にエラーメッセージが表示される
- エラー発生時も入力内容は保持される
- エラーメッセージは「なぜエラーなのか」と「どうすればいいか」を伝える内容である
- バリデーションは初回`onBlur`、エラー後は`onChange`で即時判定される（[エラー表示パターンガイドライン](../../guidelines/error-display.md)に準拠）

## Notes
- [エラー表示パターンガイドライン](../../guidelines/error-display.md)の「バリデーションエラー」パターンに従う
- インライン表示（フィールド直下/横）を採用
- 一意性制約エラーの場合、可能であれば代替案を提示する

## Open Questions
- バックエンドから返されるエラーメッセージをそのまま表示するか、フロントエンドで整形するか
- タスク詳細（description）のバリデーションルールは何か（文字数制限など）
- 複数のバリデーションエラーが同時に発生した場合の表示優先順位
