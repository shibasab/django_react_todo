# Design Review: タスク進捗カンバンボード

## 0. レビュー情報

- 対象: `docs/specs/008_task_progress_kanban_board/design.md`
- 実施日: 2026-02-15
- 観点: 要件適合性 / 移行安全性 / テスタビリティ / 運用リスク

## 1. 指摘一覧（重要度順）

## High

### H-1: 破壊的変更であることを運用に明示する必要がある

- 判断理由:
  - `is_completed` / `isCompleted` の削除はAPI互換を壊す
- 修正方針:
  - 設計に破壊的変更である旨を明記
  - 本番前migration必須を設計に固定
- 反映状況:
  - 反映済み（`design.md` 0, 6.4）

### H-2: `is_completed` 物理削除を伴うmigration手順が必須

- 判断理由:
  - 追加だけでは単一状態管理が成立しない
- 修正方針:
  - テーブル再作成移行で `is_completed` を削除する方式を明記
  - ロールバック手順を明記
- 反映状況:
  - 反映済み（`design.md` 6.2, 6.4）

## Medium

### M-1: FR-006の意味（既存完了状態との整合）を移行時に担保する必要

- 判断理由:
  - 旧データ変換で意味がズレると要件不達になる
- 修正方針:
  - `is_completed=1 -> completed`, `0 -> not_started` を固定ルール化
  - migration検証をテスト計画へ含める
- 反映状況:
  - 反映済み（`design.md` 6.4, 8）

### M-2: DnD連続更新時の通信最適化

- 判断理由:
  - NFR-001のため不要再取得を抑える必要がある
- 修正方針:
  - 成功時局所反映、失敗時再同期を維持
- 反映状況:
  - 反映済み（`design.md` 4.3, 4.6）

## Low

### L-1: 将来拡張時の説明コストを下げるため図の最小維持が必要

- 判断理由:
  - 状態遷移とシーケンスの2図で十分
- 修正方針:
  - UMLを最小セットとして維持
- 反映状況:
  - 反映済み（`design.md` 5）

## 2. 総評

- 重大な未解決事項なし
- `progress_status` 単一化方針で実装着手可能
- 本番前migration実施を前提に承認可能

